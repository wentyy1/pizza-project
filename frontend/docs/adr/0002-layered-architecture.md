# ADR 0002: –®–∞—Ä–æ–≤–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—å–Ω–æ–≥–æ –º–æ–Ω–æ–ª—ñ—Ç—É Pizza Day

## –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ü—Ä–æ—î–∫—Ç "Pizza Day" –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–æ–¥—É–ª—å–Ω–∏–π –º–æ–Ω–æ–ª—ñ—Ç –∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π –º—ñ–∂ —à–∞—Ä–∞–º–∏. –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —à–∞—Ä—ñ–≤, –Ω–∞–ø—Ä—è–º–æ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ç–∞ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ –∑–≤'—è–∑–∫–∏ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —á–∏—Å—Ç–æ—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏.

## –†—ñ—à–µ–Ω–Ω—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞—Ä—ñ–≤ —Ç–∞ —ó—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

#### üéØ **API Layer** (`com.pizzaday.api/`)
**–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –û–±—Ä–æ–±–∫–∞ HTTP –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ú–∞–ø—ñ–Ω–≥ DTO ‚Üî Domain –º–æ–¥–µ–ª—ñ
- –ë–∞–∑–æ–≤–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∞)
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ HTTP —Å—Ç–∞—Ç—É—Å–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (–º–∞–π–±—É—Ç–Ω—è)

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**
- `PizzaController` - REST endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—ñ—Ü–∞–º–∏
- `HealthController` - –µ–Ω–¥–ø–æ—ñ–Ω—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤'—è
- DTO –∫–ª–∞—Å–∏ –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤/–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- Exception handlers

#### ‚öôÔ∏è **Service Layer** (`com.pizzaday.service/`)
**–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ —Ç–∞ use cases
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –¥–æ–º–µ–Ω–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤
- –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π
- –ú–∞–ø—ñ–Ω–≥ Domain ‚Üî DTO

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**
- `PizzaService` - —Å–µ—Ä–≤—ñ—Å –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –ø—ñ—Ü–∞–º–∏
- DTO –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (`CreatePizzaRequest`, `UpdatePizzaRequest`, `PizzaResponse`)
- –ë—ñ–∑–Ω–µ—Å-–≤–∞–ª—ñ–¥–∞—Ç–æ—Ä–∏

#### üèóÔ∏è **Domain Layer** (`com.pizzaday.domain/`)
**–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –î–æ–º–µ–Ω–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ —ó—Ö —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏
- –ë—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ –ª–æ–≥—ñ–∫–∞
- Value objects
- –î–æ–º–µ–Ω–Ω—ñ exceptions

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**
- `Pizza` - –¥–æ–º–µ–Ω–Ω–∞ —Å—É—Ç–Ω—ñ—Å—Ç—å –ø—ñ—Ü–∏
- `PizzaSize` - value object —Ä–æ–∑–º—ñ—Ä—É –ø—ñ—Ü–∏
- `PizzaNotFoundException` - –¥–æ–º–µ–Ω–Ω–∞ –ø–æ–º–∏–ª–∫–∞

### –ù–∞–ø—Ä—è–º–æ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
api/ ‚Üí service/ ‚Üí domain/


**–ü—Ä–∞–≤–∏–ª–æ:** –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º–æ–∂—É—Ç—å –π—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —à–∞—Ä—ñ–≤ –¥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö. –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ —à–∞—Ä–∏ –Ω–µ –º–∞—é—Ç—å –∑–Ω–∞—Ç–∏ –ø—Ä–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ.

### –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ –∑–≤'—è–∑–∫–∏

#### ‚ùå **–ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ:**

1. **API Layer ‚Üí Domain Layer –Ω–∞–ø—Ä—è–º—É**
   ```java
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
   @RestController
   public class PizzaController {
       @Autowired
       private PizzaRepository repository; // –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ domain
       
       public void someMethod() { 
           Pizza pizza = new Pizza(...); // –ü—Ä—è–º–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è domain –æ–±'—î–∫—Ç—ñ–≤
   
       }
   }
2. **Service Layer ‚Üí API Layer**
    ```java
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
    @Service
    public class PizzaService {
        @Autowired
        private PizzaController controller; // –ó–≤–æ—Ä–æ—Ç–Ω–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å
    }
4. **Domain Layer ‚Üí –±—É–¥—å-—è–∫–∏–π –∑–æ–≤–Ω—ñ—à–Ω—ñ–π —à–∞—Ä**
    ```java
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
    public class Pizza {
        @Autowired
        private PizzaService service; // Domain –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —Å–µ—Ä–≤—ñ—Å–∏
    }
   
6. **–ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑ API Layer**
    ```java
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
    @RestController
    public class PizzaController {
        @Autowired
        private JdbcTemplate jdbcTemplate; // –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –ë–î
    }
8. **–ú—ñ–∂–º–æ–¥—É–ª—å–Ω—ñ –ø—Ä—è–º—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**
    ```java
   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
    @Service
    public class OrderService {
        @Autowired
        private PizzaRepository pizzaRepo; // –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é —ñ–Ω—à–æ–≥–æ –º–æ–¥—É–ª—è
    }

‚úÖ –î–æ–∑–≤–æ–ª–µ–Ω–æ:
1. **API ‚Üí Service (—á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏)**
    ```java
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
    @RestController
    public class PizzaController {
        private final PizzaService pizzaService; // ‚Üí Service Layer ‚úÖ
    }
3. **Service ‚Üí Domain (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—É—Ç–Ω–æ—Å—Ç–µ–π)**
    ```java
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
    @Service
    public class PizzaService {
        public Pizza createPizza(CreatePizzaRequest request) {
            Pizza pizza = new Pizza(...); // ‚Üê Domain Layer ‚úÖ
            // –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º pizza
        }
    }
5. **Service ‚Üí Repository (–¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏)**
    ```java
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
    @Service
    public class PizzaService {
        private final PizzaRepository repository; // ‚Üí Data Layer ‚úÖ
    }
